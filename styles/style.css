/* ==========================================================================
   RESET
   ========================================================================== */

*,
*::before,
*::after { box-sizing: border-box; }

html, body { margin: 0; padding: 0; overflow-x: hidden; }

img, video { display: block; max-width: 100%; height: auto; }

ul { margin: 0; padding: 0; list-style: none; }

a { color: inherit; text-decoration: none; }

button, input, textarea, select {
  font: inherit; color: inherit; background: none; border: 0; padding: 0;
}


/* ==========================================================================
   VARIABLES
   ========================================================================== */

:root{
  --bg-0:#040810; --bg-1:#050a15; --bg-2:#060c18;

  --glass:#11223f; --glass-2:#0f1e39; --border:rgba(0,255,255,.18);

  --primary:#00d5ff; --primary-2:#1ee3ff; --accent:#1affd5; --link:#7fd3ff;

  --text:#e7f1ff; --muted:#a8bed8;

  --shadow-neon:0 0 24px rgba(0,213,255,.35), 0 0 60px rgba(0,213,255,.18);
  --ring-neon:0 0 0 1px rgba(0,213,255,.45), inset 0 0 20px rgba(30,227,255,.15);

  --font:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Inter,Roboto,Arial,sans-serif;

  /* Fallback dla starszych przeglądarek */
  --step--1: 0.9rem;
  --step-0: 1rem;
  --step-0-1: 1.5rem;
  --step-1: 1.3rem;
  --step-1-1: 2.5rem;
  --step-2: 2rem;
  --step-3: 2.8rem;
  --step-4: 3.5rem;
  
  /* Nowoczesne przeglądarki z clamp() */
  --step--1:clamp(.85rem,.8rem + .25vw,.95rem);
  --step-0: clamp(1rem,.95rem + .35vw,1.125rem);
  --step-0-1:clamp(1rem,.95rem + .35vw,2.25rem);
  --step-1: clamp(1.25rem,1.1rem + .8vw,1.6rem);
  --step-1-1:clamp(2.15rem,1.1rem + .8vw,3.2rem);
  --step-2: clamp(1.8rem,1.4rem + 1.6vw,2.6rem);
  --step-3: clamp(2.6rem,1.9rem + 2.4vw,3.6rem);
  --step-4: clamp(3.2rem,2.4rem + 3.4vw,5rem);

  --radius:18px; --radius-sm:12px;

  --gap:.9rem; --gap-lg:2rem;

  --bp-sm:480px; --bp-md:768px; --bp-lg:1120px;

  /* Play button */
  --pb-play-size-hero:clamp(64px,8vw,96px);
  --pb-play-size-card:clamp(48px,6vw,76px);
  --pb-cyan:#00e7ff; --pb-cyan-soft:rgba(0,231,255,.35);
  --pb-bg:rgba(10,25,45,.45);
}


/* ==========================================================================
   GLOBAL / BASE
   ========================================================================== */

html { color-scheme: dark; }

body{
  font-family: var(--font);
  font-size: var(--step-0);
  line-height: 1.6;
  color: var(--text);
  min-height: 100vh; /* Fallback dla starszych przeglądarek */
  min-height: 100dvh; /* Nowoczesne przeglądarki */
  background:
    radial-gradient(1000px 800px at 10% -10%, rgba(30,227,255,.08), transparent),
    radial-gradient(1200px 900px at 90% 110%, rgba(0,213,255,.05), transparent),
    linear-gradient(180deg, #040810, #050a15 50%, #060c18);
}


/* ==========================================================================
   UTILITIES
   ========================================================================== */

.section { padding: clamp(64px,8vw,120px) 0; }

/* Mobile sections */
@media (max-width:768px){
  .section { 
    padding: clamp(30px,5vw,60px) 0; /* Zmniejszone padding */
  }
  .container{
    padding-inline: 1rem;
  }
  
  /* Portfolio section - mniejszy padding żeby nie zasłaniało kontaktu */
  .portfolio-section {
    padding: clamp(20px,4vw,40px) 0;
  }
}

.container { max-width: var(--bp-lg); margin-inline:auto; padding-inline: clamp(1rem,4vw,2rem); }

/* Container - dopasowanie do nav-container */
@media (min-width:1280px){
  .container{ 
    max-width: min(1380px,92vw); 
    padding-inline: clamp(32px,8vw,64px);
  }
}

@media (min-width:1081px) and (max-width:2199px){
  .container{ 
    max-width: min(1500px, 92vw); 
    padding-inline: clamp(32px,8vw,64px);
  }
}

@media (min-width:2200px){
  .container{ 
    max-width: min(1800px, 92vw); 
    padding-inline: clamp(32px,8vw,64px);
  }
}

.glass-card{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  /* Fallback dla przeglądarek bez backdrop-filter */
  background: rgba(15,30,57,.85);
  /* Nowoczesne przeglądarki */
  backdrop-filter: saturate(130%) blur(12px);
  box-shadow: 0 10px 36px rgba(0,0,0,.35);
}

.neo-hover{ transition: transform .2s ease, box-shadow .2s ease; border-color: var(--border); }
.neo-hover:hover{ transform: translateY(-3px); box-shadow: var(--shadow-neon); }

.sep{ opacity: .5; }


/* ==========================================================================
   DECOR BACKGROUNDS
   ========================================================================== */

/* Zastąpienie animacji sieci neuronowej - całkowicie ukryte */
.particles-canvas{
  display: none !important;
}
.hub-gradient-layer{
  position: fixed; inset: 0; z-index: -2; pointer-events: none;
  background:
    radial-gradient(900px 600px at 20% 15%, rgba(0,213,255,.06), transparent 60%),
    radial-gradient(900px 600px at 80% 85%, rgba(0,255,200,.04), transparent 60%);
}
.liquid-bg{ 
  position: fixed; inset: -10% -10% auto -10%; z-index: -3; pointer-events: none; 
  will-change: transform;
  transform: translate3d(0,0,0);
}
.gradient-orb{
  position: absolute; width: 38vmax; height: 38vmax; border-radius: 50%;
  filter: blur(35px); opacity: .4; mix-blend-mode: screen;
  will-change: transform;
  transform: translate3d(0,0,0);
}
.orb-1{ top:-10%; left:-6%;  background: radial-gradient(circle at 30% 30%, rgba(0,213,255,.25), rgba(0,213,255,.03) 60%, transparent); }
.orb-2{ bottom:-8%; right:-10%; background: radial-gradient(circle at 70% 70%, rgba(0,255,200,.18), rgba(0,255,200,.02) 60%, transparent); }
.orb-3{ top:40%; left:55%; width:26vmax; height:26vmax; background: radial-gradient(circle, rgba(100,180,255,.10), transparent 60%); }


/* ==========================================================================
   NAV
   ========================================================================== */

.nav-glass{
  position: sticky; top: 0; z-index: 50;
  /* Fallback dla przeglądarek bez backdrop-filter */
  background: rgba(4,8,16,.95);
  /* Nowoczesne przeglądarki */
  backdrop-filter: saturate(130%) blur(14px);
  background: linear-gradient(180deg, rgba(4,8,16,.95), rgba(5,10,21,.90));
  border-bottom: 1px solid var(--border);
}
.nav-glass.scrolled{ box-shadow: 0 6px 24px rgba(0,0,0,.28); }

.nav-container{
  display:flex; align-items:center; justify-content:space-between;
  height:8vh; max-width:var(--bp-lg); margin:0 auto; padding-inline:2rem; /* Fallback */
  padding-inline:clamp(2rem,8vw,4rem); /* Nowoczesne przeglądarki */
  position: relative;
}

/* Nav container - dopasowanie do hero section */
@media (min-width:1280px){
  .nav-container{ max-width: min(1380px,92vw); }
}

@media (min-width:1081px) and (max-width:2199px){
  .nav-container{ max-width: min(1500px, 92vw); }
}

@media (min-width:2200px){
  .nav-container{ max-width: min(1800px, 92vw); }
}

.logo-liquid{
  position: absolute !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  background: none !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

.logo-liquid .logo-text{
  font-size:var(--step-1-1); font-family:"Roboto",sans-serif; font-weight:700; letter-spacing:.3px;
  background: linear-gradient(90deg, var(--primary), #9ae7ff);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 0 20px rgba(0,213,255,.25);
  /* Fallback dla przeglądarek bez background-clip */
  color: var(--primary);
}
.nav__links--desktop{ 
  display:flex; 
  gap:clamp(.8rem,2vw,1.4rem); 
  position: absolute;
  right: clamp(32px,8vw,64px);
}
.nav-link{
  padding:.5rem .4rem; border-radius:10px; color:var(--text); font-size:var(--step-1);
  transition: opacity .2s ease, transform .2s ease;
}
.nav-link:hover{ opacity:.9; transform: translateY(-1px); }


/* ==========================================================================
   HERO
   ========================================================================== */

.hero-section{ padding-bottom: clamp(24px, 6vw, 64px); }
.hero-section .container{ position: relative; }

.hero-section .hero-content{
  display:grid; grid-template-columns: 1.1fr .9fr; align-items:center;
  gap: clamp(24px,4vw,40px);
}

.hero-title{ margin: 0 0 .6rem; font-size: var(--step-3); line-height: 1.4; }
.hero-title .title-line{ display:block; font-weight:600; }
.hero-title .liquid-text{
  font-size: var(--step-4); font-weight:500; letter-spacing:.02em;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: 0 0 28px rgba(0,213,255,.35), 0 0 60px rgba(0,213,255,.15);
}

.hero-subtitle{
  margin:.6rem 0 1.4rem; max-width:52ch; font-weight:700; font-size:var(--step-0);
  background: linear-gradient(90deg, var(--text), var(--link));
  background-clip:text; -webkit-background-clip:text; color:transparent; -webkit-text-fill-color:transparent;
  text-shadow: 0 0 12px rgba(0,213,255,.15);
}

.hero-cta{ display:flex; flex-wrap:wrap; align-items:center; gap:12px; margin-bottom: clamp(8px, 2vw, 16px); }

.btn-primary, .btn-secondary, .btn-holographic{
  position: relative; isolation:isolate; display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:.9rem 1.25rem; border-radius:999px; font-weight:700; border:1px solid var(--border);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
}
.btn-primary, .btn-secondary{ background:linear-gradient(180deg, rgba(0,213,255,.25), rgba(0,255,200,.15)); box-shadow: var(--shadow-neon); color: var(--text); }
.btn-primary:hover, .btn-secondary:hover{
  transform: translateY(-2px); background:linear-gradient(180deg, var(--primary), var(--accent));
  color:#001018; box-shadow: 0 0 40px rgba(0,213,255,.55);
}
.btn-holographic{ background: linear-gradient(180deg, rgba(0,255,200,.2), rgba(0,255,200,.06)); }

@keyframes float{ 50%{ transform: translateY(-6px); } }

.btn-holographic .btn-energy{ position:absolute; inset:0; border-radius:inherit; box-shadow: inset 0 0 40px rgba(0,255,200,.18); pointer-events:none; }
.btn-holographic .btn-particles{ position:absolute; inset:0; display:block; pointer-events:none; }
.btn-holographic .btn-particles > span{
  position:absolute; width:6px; height:6px; border-radius:50%;
  background: radial-gradient(circle, var(--primary), transparent);
  filter: blur(.5px); opacity:.5; animation: float 6s infinite ease-in-out;
}
.btn-holographic .btn-particles > span:nth-child(1){ top:12%; left:20%;  animation-delay:0s; }
.btn-holographic .btn-particles > span:nth-child(2){ bottom:18%; right:28%; animation-delay:1s; }
.btn-holographic .btn-particles > span:nth-child(3){ top:35%; right:12%; animation-delay:2s; }

.hero-card{
  display:flex; justify-content:center; margin-top:clamp(12px, 3vw, 28px);
  max-width:min(100%,880px); justify-self:center;
  filter: drop-shadow(0 16px 38px rgba(0,0,0,.45)) drop-shadow(0 0 46px rgba(0,255,255,.18));
}
.video-container-hero{
  position:relative; z-index:1; width:min(880px,100vw); aspect-ratio:16/9; border-radius:24px; overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
  border:1px solid var(--border); box-shadow: var(--shadow-neon);
}
#hero-video, .video-container-hero video{ width:100%; height:100%; object-fit:cover; display:block; opacity:1; }
.video-controls-overlay{
  position:absolute; inset:0; background: radial-gradient(600px 240px at 20% 60%, rgba(0,213,255,.08), transparent 60%);
  pointer-events:none;
}


/* ==========================================================================
   ABOUT (clean pack)
   HTML:
   <div class="holo">
     <span class="holo__rings" aria-hidden="true"></span>
     <figure class="holo__photo"><img ...></figure>
   </div>
   ========================================================================== */

.about-content-revolutionary{
  display:grid; grid-template-columns: 1fr 1.2fr; align-items:center;
  gap: clamp(24px,4vw,42px);
}

/* tytuł + karta */
.about-title{
  position:relative; display:inline-block; padding:10px 16px;
  border-radius:14px; border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(15,30,57,.72), rgba(15,30,57,.42));
  /* Fallback dla przeglądarek bez backdrop-filter */
  background: rgba(15,30,57,.85);
  /* Nowoczesne przeglądarki */
  backdrop-filter:saturate(140%) blur(10px);
  box-shadow: inset 0 0 24px rgba(0,213,255,.08), 0 10px 26px rgba(0,0,0,.35);
}
.about-title::after{
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  box-shadow:0 0 0 1px rgba(0,213,255,.22), inset 0 0 32px rgba(0,213,255,.08);
}
.greeting-massive{
  margin:0; font-size: clamp(2rem,5vw,3.5rem); font-weight:900; letter-spacing:-.01em; line-height:1.18;
  text-align:center;
  background: linear-gradient(90deg, var(--primary), var(--accent) 55%, var(--link));
  background-size:200% 100%; -webkit-background-clip:text; background-clip:text; color:transparent; -webkit-text-fill-color:transparent;
  text-shadow:0 0 10px rgba(0,213,255,.30), 0 0 24px rgba(0,213,255,.22), 0 0 38px rgba(0,157,255,.18);
  -webkit-text-stroke:.6px rgba(0,213,255,.18);
  animation: aboutTitleFlow 6s ease-in-out infinite;
  transition: transform .35s ease, text-shadow .35s ease;
  will-change: transform, background-position;
  transform: translate3d(0,0,0);
}
.greeting-massive:hover{ transform: translateY(-1px) scale(1.03); text-shadow:0 0 12px rgba(0,255,255,.55), 0 0 32px rgba(0,157,255,.45), 0 0 48px rgba(0,255,200,.35); }
@keyframes aboutTitleFlow{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

.about-text-revolutionary{ width:100%; }
.about-description-pro{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--border); border-radius:var(--radius);
  padding: clamp(16px,3vw,24px); color:var(--text);
  backdrop-filter: saturate(130%) blur(12px); box-shadow: 0 10px 36px rgba(0,0,0,.35);
}
.apple-text{ color:#fff; font-family:"Roboto",sans-serif; font-size:var(--step-1); font-weight:400; letter-spacing:.025em; line-height:1.6; text-shadow:0 1px 2px rgba(0,0,0,.3); }

/* Avatar – finalny wariant */
.holo{
  /* odstęp między zdjęciem a ringami */
  --ring-clear: clamp(44px, 4.4vw, 68px);

  position:relative; width: var(--avatar, 600px); aspect-ratio:1/1;
  display:grid; place-items:center; isolation:isolate;
}
.holo__photo{
  width: calc(100% - (var(--ring-clear) * 2));
  height: calc(100% - (var(--ring-clear) * 2));
  border-radius:50%; overflow:hidden;
  border:1.5px solid rgba(0,231,255,.35);
  /* edge-only glow */
  box-shadow:
    inset 0 0 8px rgba(0,231,255,.08),
    0 0 14px 3px rgba(0,231,255,.22),
    0 0 24px 7px rgba(0,231,255,.14);
}
.holo__photo img{
  width:100%; height:100%; object-fit:cover; transform: translateZ(0) scale(1);
  transition: transform 420ms cubic-bezier(.22,.61,.36,1); backface-visibility:hidden; will-change:transform;
  border-radius: 50%; /* Upewnij się że obraz jest okrągły */
}

/* Mobile - lepsze wyświetlanie obrazów */
@media (max-width:768px){
  .holo__photo img{
    object-fit: cover;
    object-position: center;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  /* Ogólne style dla wszystkich obrazów na mobile */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  /* Lepsze wyświetlanie obrazów w portfolio */
  .portfolio-video img,
  .portfolio-video video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: inherit;
  }
}
@media (hover:hover){
  .holo:hover .holo__photo img{ transform: translateZ(0) scale(1.06); }
}
@media (prefers-reduced-motion: reduce){ .holo__photo img{ transition:none; } }

/* Ringi – 3 warstwy: element + 2 pseudo */
.holo__rings,
.holo__rings::before,
.holo__rings::after{
  content:""; position:absolute; border-radius:50%; pointer-events:none;
  box-shadow: 0 0 50px rgba(0,231,255,.18);
}
.holo__rings{ 
  inset:0; border:2px solid rgba(0,231,255,.35); opacity:.9; 
  animation: halo 8s ease-in-out infinite;
  will-change: transform;
  transform: translate3d(0,0,0);
}
.holo__rings::before{ inset:-24px; border:1px solid rgba(0,231,255,.25); opacity:.7; }
.holo__rings::after { inset:-48px; border:1px solid rgba(0,231,255,.18); opacity:.5; }
@keyframes halo{ 50%{ transform: scale(1.015); } }

/* Desktop – para wycentrowana, szeroki gap, avatar ~ karta */
@media (min-width:1700px){
  .about-section .container{ max-width: min(1400px, 92vw); margin-inline:auto; }
  .about-section .about-content-revolutionary{
    --text-w:   clamp(600px, 48vw, 760px);
    --avatar:   clamp(560px, calc(var(--text-w) * .96), 780px);
    --pair-gap: clamp(144px, 12vw, 360px);

    display:grid;
    grid-template-columns: var(--avatar) var(--text-w);
    column-gap: var(--pair-gap);
    align-items:center;
    justify-content:center;
  }
}

/* Mobile/Tablet – kolumna */
@media (max-width:768px){
  .about-content-revolutionary{
    display:flex; flex-direction:column; align-items:center; text-align:center;
    row-gap: clamp(24px,4vw,32px);
  }
  .about-visual-quantum{ 
    order:-1; 
    margin-bottom: 20px;
  }
  .about-text-revolutionary{ 
    width:min(96vw,880px); 
    margin-inline:auto; 
  }
  .about-description-pro{
    padding: clamp(20px,4vw,28px);
    margin-bottom: 20px;
  }
  .greeting-massive{
    font-size: clamp(2.2rem, 8vw, 3rem);
    margin-bottom: 16px;
  }
  .apple-text{
    font-size: clamp(1rem, 4vw, 1.2rem);
    line-height: 1.6;
  }
  .skills-infographics{
    grid-template-columns: 1fr;
    gap: 16px;
    margin-top: 20px;
  }
  .infographic-card{
    min-height: 120px;
    padding: 20px 16px;
  }
}


/* ==========================================================================
   SKILLS
   ========================================================================== */

.skills-infographics{
  display:grid; grid-template-columns: repeat(3, minmax(220px,1fr));
  gap: var(--gap); margin-top: clamp(12px,2vw,20px); align-items: stretch;
}
.infographic-card{
  display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
  gap:clamp(10px, 2vh, 16px); min-height:160px; padding:28px 22px; border-radius:var(--radius);
  background: linear-gradient(180deg, rgba(15,30,57,.7), rgba(15,30,57,.45));
  border:1px solid rgba(0,213,255,.8);
  box-shadow:0 0 8px rgba(0,213,255,.8), 0 0 24px rgba(0,213,255,.4);
  /* Fallback dla przeglądarek bez backdrop-filter */
  background: rgba(15,30,57,.85);
  /* Nowoczesne przeglądarki */
  backdrop-filter: blur(24px);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.infographic-card:hover{ transform: translateY(-6px) scale(1.02); border-color: rgba(0,255,255,1); box-shadow: 0 0 12px rgba(0,255,255,1), 0 0 32px rgba(0,255,255,.8); }
.infographic-icon{
  margin:0; font-size:clamp(28px, 3.5vw, 36px); line-height:1; color:var(--primary);
  text-shadow:0 0 12px rgba(0,213,255,.6);
}
.infographic-content{ display:flex; flex-direction:column; align-items:center; gap:6px; }
.infographic-content h3{ margin:0; font-size:1.05rem; }
.infographic-content p{ margin:0; color:var(--muted); font-size:.95rem; }
.infographic-content p strong{ 
  color: #00d5ff; 
  text-decoration: underline; 
  text-decoration-color: #00d5ff;
  text-underline-offset: 3px;
  transition: color 0.3s ease, text-decoration-color 0.3s ease;
}
.infographic-content p strong:hover{ 
  color: #00ffff; 
  text-decoration-color: #00ffff;
}


/* ==========================================================================
   PORTFOLIO
   ========================================================================== */

.section-header{
  max-width:min(980px,92vw); margin:0 auto clamp(22px,3vw,32px); padding:14px 18px;
  text-align:center;
}

/* Mobile section headers */
@media (max-width:768px){
  .section-header{
    padding: 20px 16px;
    margin-bottom: 30px;
  }
  .section-title{
    font-size: clamp(1.8rem, 6vw, 2.4rem);
    margin-bottom: 12px;
  }
}
.section-title{
  margin:0; font-size:var(--step-2); font-weight:700; letter-spacing:.25em; text-transform:uppercase; display:inline-block; cursor:default;
  background:linear-gradient(90deg, #00ffe7, #009dff, #c86bfa);
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent;
  text-shadow:0 0 15px rgba(0,255,231,.6), 0 0 30px rgba(0,157,255,.5), 0 0 50px rgba(200,107,250,.4), 0 0 80px rgba(0,255,231,.3);
  transition: transform .35s ease, text-shadow .35s ease;
}
.section-title:hover{ transform: scale(1.08); text-shadow:0 0 20px rgba(0,255,231,.8), 0 0 40px rgba(0,157,255,.7), 0 0 60px rgba(200,107,250,.6), 0 0 100px rgba(0,255,231,.5); }
.title-decoration{ height:2px; margin-top:10px; background: linear-gradient(90deg, transparent, rgba(0,213,255,.5), transparent); }

.portfolio-slider-container{
  --slider-h:clamp(420px,58vh,780px);
  position:relative; width:100%; margin:0 auto; overflow:hidden;
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
}

/* Lekkie cienie po bokach slidera - usunięte */
.portfolio-slider-container::before,
.portfolio-slider-container::after{
  display: none !important;
}
.portfolio-slider{ 
  display:flex; 
  align-items:center; 
  gap:clamp(16px,2vw,32px); 
  overflow:hidden; 
  height:var(--slider-h);
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
}
.portfolio-track{ 
  display:flex; 
  align-items:center; 
  gap:clamp(12px,2vw,24px); 
  will-change:transform; 
  transition: transform 0.08s ease-out;
  transform: translateZ(0);
  backface-visibility: hidden;
  contain: layout;
}

.portfolio-item{
  position:relative; flex:0 0 clamp(220px,22vw,340px); height:100%;
  display:flex; align-items:center; justify-content:center;
  opacity:.6; transform:scale(1) translateZ(0);
  transition: opacity 0.03s ease;
  will-change: opacity;
  backface-visibility: hidden;
  contain: layout;
}
.portfolio-item.left, .portfolio-item.right{ opacity:.7; }
.portfolio-item.active{ opacity:1; transform:scale(1.01) translateZ(0); z-index:2; }
.portfolio-item:not(.active)::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(135deg, rgba(0,0,0,.4) 0%, rgba(0,0,0,.2) 50%, rgba(0,0,0,.4) 100%);
  border-radius: inherit;
}

.portfolio-video{
  position:relative; display:grid; place-items:center; aspect-ratio:9/16; border-radius:20px; overflow:hidden;
  border:1px solid var(--border); background: rgba(255,255,255,.02);
}
.portfolio-item video{ width:100%; height:100%; object-fit:cover; border-radius:14px; }

/* Play button */
.video-container-hero, .portfolio-video{ position:relative; }

.play-button-modern{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:var(--pb-play-size-card); aspect-ratio:1; border-radius:50%;
  display:grid; place-items:center; cursor:pointer; z-index:2;
  background:
    radial-gradient(120% 120% at 30% 30%, rgba(0,255,234,.18), rgba(0,163,255,.08) 60%, rgba(255,255,255,.04)),
    var(--pb-bg);
  /* Fallback dla przeglądarek bez backdrop-filter */
  background: rgba(10,25,45,.85);
  /* Nowoczesne przeglądarki */
  -webkit-backdrop-filter:saturate(160%) blur(6px); backdrop-filter:saturate(160%) blur(6px);
  box-shadow: inset 0 0 0 1px var(--pb-cyan-soft), 0 8px 24px rgba(0,0,0,.35), 0 0 0 6px rgba(0,231,255,.10);
  transition: transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}
.video-container-hero .play-button-modern{ width: var(--pb-play-size-hero); }
.play-button-modern i{ font-size:clamp(18px,2.2vw,28px); color:#e7fdff; text-shadow:0 0 18px rgba(0,231,255,.55); pointer-events:none; }
.play-button-modern::after{
  content:""; position:absolute; inset:-6px; border-radius:inherit; border:2px solid var(--pb-cyan-soft);
  opacity:.85; animation: pb-pulse 2s ease-out infinite;
}
.play-button-modern::before{
  content:""; position:absolute; inset:-10px; border-radius:inherit;
  background: conic-gradient(from 0deg, rgba(0,255,235,.65), rgba(0,135,255,.35), rgba(170,0,255,.38), rgba(0,255,235,.65));
  filter: blur(14px); opacity:.55; z-index:-1; animation: pb-spin 8s linear infinite;
}
@keyframes pb-pulse{ 0%{transform:scale(1);opacity:.85} 100%{transform:scale(1.6);opacity:0} }
@keyframes pb-spin{ to{ transform: rotate(360deg); } }

.play-button-modern:hover{ transform: translate(-50%,-50%) scale(1.06); box-shadow: inset 0 0 0 1px rgba(0,255,255,.5), 0 10px 28px rgba(0,0,0,.4), 0 0 0 8px rgba(0,231,255,.16); }
.play-button-modern:active{ transform: translate(-50%,-50%) scale(.97); }
.play-button-modern:focus-visible{ outline:none; box-shadow: inset 0 0 0 1px #fff, 0 0 0 3px #fff8, 0 0 0 8px var(--pb-cyan-soft); }

.portfolio-item.is-playing .play-button-modern,
.video-container-hero.is-playing .play-button-modern{
  opacity:0; pointer-events:none; transform:translate(-50%,-50%) scale(.9);
}
.portfolio-item video[controls] ~ .play-button-modern{ display:none; }

/* Strzałki */
.portfolio-arrow{
  position:absolute; top:50%; translate:0 -50%;
  width:clamp(44px,5.5vw,64px); aspect-ratio:1; display:grid; place-items:center;
  border:0; border-radius:999px; cursor:pointer; z-index:5;
  background: radial-gradient(110% 120% at 30% 30%, rgba(0,255,235,.18), rgba(0,163,255,.10) 60%, rgba(255,255,255,.06)), rgba(10,25,45,.35);
  -webkit-backdrop-filter:blur(6px) saturate(160%); backdrop-filter:blur(6px) saturate(160%);
  box-shadow: inset 0 0 0 1px rgba(0,231,255,.35), 0 6px 18px rgba(0,0,0,.35), 0 0 0 6px rgba(0,231,255,.10);
  color:#e7fdff; opacity:.9; transition: transform .18s ease, box-shadow .18s ease, opacity .2s ease, background .2s ease;
}
.portfolio-arrow i{ pointer-events:none; font-size:clamp(16px,2.2vw,22px); text-shadow:0 0 14px rgba(0,231,255,.55); }
.portfolio-arrow.left{  left:max(10px, env(safe-area-inset-left)); }
.portfolio-arrow.right{ right:max(10px, env(safe-area-inset-right)); }
.portfolio-arrow::after{
  content:""; position:absolute; inset:-6px; border-radius:inherit; border:2px solid rgba(0,231,255,.35);
  animation: pa-pulse 2s ease-out infinite;
}
@keyframes pa-pulse{ from{transform:scale(1);opacity:.8} to{transform:scale(1.5);opacity:0} }
.portfolio-arrow:hover{ transform: translateY(-50%) scale(1.06); box-shadow: inset 0 0 0 1px rgba(0,255,255,.55), 0 10px 24px rgba(0,0,0,.4), 0 0 0 8px rgba(0,231,255,.16); }
.portfolio-arrow:active{ transform: translateY(-50%) scale(.96); }
.portfolio-arrow:focus-visible{ outline:none; box-shadow: inset 0 0 0 1px #fff, 0 0 0 3px #fff8, 0 0 0 8px rgba(0,231,255,.3); }
@media (hover:hover){
  .portfolio-arrow{ opacity:0; pointer-events:none; }
  .portfolio-slider-container:hover .portfolio-arrow{ opacity:1; pointer-events:auto; }
}
@media (max-width:768px){
  .portfolio-arrow{ width:46px; }
  .portfolio-arrow.left{ left:6px; } .portfolio-arrow.right{ right:6px; }
}
.portfolio-arrow.is-disabled{ opacity:.35; filter:grayscale(1); pointer-events:none; }

/* kontrolki przeglądarki nieprzycinane */
.portfolio-slider, .portfolio-track, .portfolio-item, .portfolio-video{ overflow: visible; }

/* Mobile - WYŁĄCZ CSS scroll, używamy tylko JS touch events */
@media (max-width:768px){
  .portfolio-slider{ 
    overflow: visible; /* Wyłącz CSS scroll */
    scroll-behavior: auto; /* Wyłącz smooth scroll */
    scroll-snap-type: none; /* Wyłącz snap */
    -webkit-overflow-scrolling: auto; /* Wyłącz iOS smooth scrolling */
    scrollbar-width: none; /* Firefox - ukryj scrollbar */
    -ms-overflow-style: none; /* IE/Edge - ukryj scrollbar */
    touch-action: manipulation; /* Pozwól na touch ale nie scroll */
    overscroll-behavior-x: contain; /* Zapobiegaj overscroll */
  }
  
  /* Webkit - ukryj scrollbar */
  .portfolio-slider::-webkit-scrollbar {
    display: none;
  }
  .portfolio-track{ 
    overflow: visible; /* Zachowaj dla animacji */
    width: max-content; /* Zapewnij pełną szerokość dla przewijania */
    min-width: 100%; /* Minimum szerokość kontenera */
    display: flex; /* Upewnij się że to flex */
    align-items: center; /* Wyśrodkuj pionowo */
  }
  .portfolio-item{ 
    scroll-snap-align: none; /* Wyłącz snap */
    scroll-snap-stop: normal; /* Wyłącz snap */
    flex: 0 0 var(--card-w); /* Użyj zmiennej --card-w dla mobile */
    width: var(--card-w); /* Zapewnij stałą szerokość */
    flex-shrink: 0; /* Nie pozwól się zmniejszyć */
  }
}
.video-controls-overlay{ position:absolute; inset:0 0 clamp(44px, 6vh, 64px) 0; z-index:1; pointer-events:none; }
.portfolio-video video{ position:relative; z-index:2; display:block; width:100%; height:auto; border-radius:inherit; }
.play-button-modern{ position:absolute; z-index:3; pointer-events:auto; }
video::-webkit-media-controls-enclosure{ overflow:visible; }


/* ==========================================================================
   CONTACT
   ========================================================================== */

.contact-content{ display:grid; align-items:start; gap:clamp(16px,3vw,24px); }
.contact-info{ grid-area: info; }
.contact-form{
  grid-area: form; padding:clamp(16px,3vw,24px); box-shadow:0 10px 36px rgba(0,0,0,.35); width:100%;
}
.contact--stack         { grid-template-areas: "info" "form"; }
.contact--stack-reverse { grid-template-areas: "form" "info"; }

/* Mobile contact section */
@media (max-width:768px){
  .contact-content{
    gap: 24px;
  }
  .contact-form{
    padding: 20px 16px;
    margin: 0 16px;
  }
  .contact-info .skills-infographics{
    grid-template-columns: 1fr;
    gap: 16px;
    margin: 0 16px;
  }
  .infographic-card{
    min-height: 100px;
    padding: 16px;
  }
}

.contact-info .skills-infographics{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap:clamp(12px,2vw,20px);
}
.contact-info .infographic-card{ justify-content:flex-start; }

.contact-section .glass-card{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--border); border-radius:var(--radius); backdrop-filter:saturate(130%) blur(12px);
}

/* consent */
.consent-control{ display:flex; gap:10px; align-items:flex-start; cursor:pointer; }
.consent-control input{ position:absolute; opacity:0; width:0; height:0; }
.checkmark{
  width:22px; height:22px; border-radius:6px; border:1px solid var(--border); background:rgba(255,255,255,.05);
  display:inline-block; box-shadow: inset 0 0 0 2px rgba(0,213,255,0); transition: box-shadow .2s, background .2s;
}
.consent-control input:checked + .checkmark{
  background: linear-gradient(180deg, var(--primary), var(--accent)); box-shadow: inset 0 0 0 3px rgba(0,0,0,.35);
}
.consent-block{ display:flex; flex-direction:column; }
.consent-text{ color:var(--text); }
.consent-link{ color:var(--link); text-decoration:underline; text-underline-offset:.18em; }


/* ==========================================================================
   FOOTER
   ========================================================================== */

.footer{
  border-top:1px solid var(--border); backdrop-filter:saturate(130%) blur(10px);
  background:linear-gradient(180deg, rgba(10,25,49,.5), rgba(10,25,49,.3));
  padding:18px 0; margin-top:clamp(40px,6vw,80px); text-align:center; color:var(--muted);
}


/* ==========================================================================
   FORMS / BUTTON LINKS
   ========================================================================== */

.contact-form .form-grid{ display:grid; grid-template-columns:1fr 1fr; gap:clamp(12px,2vw,18px); }
.contact-form .form-group--full{ grid-column: 1 / -1; }

.contact-form input[type="text"],
.contact-form input[type="email"],
.contact-form textarea{
  width:100%; padding:14px 16px; border:1px solid var(--border); border-radius:14px;
  background:rgba(255,255,255,.04); color:var(--text); outline:none;
  transition:border-color .2s ease, box-shadow .2s ease, background .2s ease;
  box-shadow: inset 0 0 0 2px rgba(0,213,255,0);
}
.contact-form input::placeholder, .contact-form textarea::placeholder{ color:rgba(231,241,255,.65); }
.contact-form input[type="text"]:focus,
.contact-form input[type="email"]:focus,
.contact-form textarea:focus{
  border-color:rgba(0,213,255,.45); background:rgba(255,255,255,.06);
  box-shadow:0 0 0 3px rgba(0,213,255,.12), inset 0 0 0 2px rgba(0,213,255,.35);
}
.contact-form textarea{ min-height:clamp(200px,26vh,320px); resize:vertical; line-height:1.5; }
.form-consent{ margin:8px 0 14px; display:flex; align-items:flex-start; justify-content:flex-start; }
.contact-form .form-actions{ display:flex; justify-content:center; padding-top:6px; }
.contact-form .form-actions .btn-primary{ min-width:220px; }

/* link buttons */
a.btn-primary, a.btn-secondary{
  display:inline-block; padding:.9rem 1.8rem; border-radius:12px; font-weight:600;
  text-transform:uppercase; letter-spacing:.5px; text-align:center; position:relative; overflow:hidden;
  background:rgba(0,20,40,.7); border:1px solid rgba(0,213,255,.7); color:#00d5ff;
  box-shadow:0 0 8px rgba(0,213,255,.6), 0 0 20px rgba(0,213,255,.3); transition: all .3s ease; text-decoration:none;
}
a.btn-primary:hover, a.btn-secondary:hover{
  background:rgba(0,40,60,.9); border-color:#00ffff; color:#00ffff;
  box-shadow:0 0 12px rgba(0,255,255,.9), 0 0 30px rgba(0,255,255,.6); transform: translateY(-2px) scale(1.03);
}
a.btn-primary:active, a.btn-secondary:active{ transform: translateY(1px) scale(.97); box-shadow:0 0 6px rgba(0,213,255,.6); }

/* submit variant */
.contact-form.glass-card{
  background:rgba(0,20,40,.7); border:1px solid rgba(0,213,255,.6); border-radius:16px; padding:2rem;
  box-shadow:0 0 12px rgba(0,213,255,.6), 0 0 30px rgba(0,213,255,.3); backdrop-filter: blur(24px); transition: all .3s ease;
}
.contact-form.glass-card:hover{ border-color:#00ffff; box-shadow:0 0 16px rgba(0,255,255,.9), 0 0 40px rgba(0,255,255,.6); }
.contact-form button.btn-primary{
  display:inline-block; width:100%; padding:1rem 2rem; margin-top:1rem; border-radius:12px;
  font-weight:600; font-size:1.05rem; letter-spacing:.5px; cursor:pointer;
  border:1px solid rgba(0,213,255,.8); background:rgba(0,25,50,.85); color:#00d5ff;
  box-shadow:0 0 8px rgba(0,213,255,.7), 0 0 20px rgba(0,213,255,.4); transition: all .3s ease;
}
.contact-form button.btn-primary:hover{
  background:rgba(0,50,80,.95); color:#00ffff; border-color:#00ffff;
  box-shadow:0 0 12px rgba(0,255,255,.9), 0 0 30px rgba(0,255,255,.6); transform: translateY(-2px) scale(1.03);
}
.contact-form button.btn-primary:active{ transform: translateY(1px) scale(.96); box-shadow:0 0 6px rgba(0,213,255,.6); }


/* ==========================================================================
   REDUCED MOTION / SAFARI FALLBACK
   ========================================================================== */

@media (prefers-reduced-motion:reduce){
  *,:before,:after{ animation:none !important; transition:none !important; }
  .greeting-massive{ animation:none; }
}

/* ==========================================================================
   MAXIMUM PERFORMANCE MODE
   ========================================================================== */

/* Tryb wydajnościowy dla słabszych urządzeń i Firefox Mobile */
@media (max-width: 768px), (max-height: 600px), (prefers-reduced-motion: reduce) {
  .particles-canvas { display: none !important; }
  .liquid-bg { display: none !important; }
  .gradient-orb { display: none !important; }
  
  .greeting-massive { animation: none !important; }
  .holo__rings { animation: none !important; }
  
  .btn-holographic .btn-particles { display: none !important; }
  .play-button-modern::before { animation: none !important; }
  .portfolio-arrow::before { animation: none !important; }
  
  * { 
    transition-duration: 0.1s !important; 
    animation-duration: 0.1s !important; 
  }
}

/* Firefox Mobile specific fixes */
@-moz-document url-prefix() {
  @media (max-width: 768px) {
    .particles-canvas,
    .liquid-bg,
    .gradient-orb {
      display: none !important;
    }
    
    .greeting-massive {
      animation: none !important;
      transform: none !important;
    }
    
    .holo__rings {
      animation: none !important;
    }
    
    .portfolio-slider-container {
      transform: none !important;
    }
    
    .portfolio-track {
      transition: none !important;
    }
    
    .portfolio-item {
      transition: none !important;
    }
    
    /* Wyłącz wszystkie backdrop-filter na Firefox Mobile */
    .glass-card,
    .nav-glass,
    .about-title,
    .infographic-card,
    .play-button-modern,
    .portfolio-arrow {
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
      background: rgba(4,8,16,.9) !important;
    }
  }
}

/* Uniwersalne ukrycie wszystkich potencjalnych ciemnych elementów */
*[style*="background: black"],
*[style*="background: #000"],
*[style*="background: rgba(0,0,0"],
*[style*="background-color: black"],
*[style*="background-color: #000"] {
  background: transparent !important;
}

/* Ukryj wszystkie elementy z ciemnym tłem w lewym górnym rogu */
*[style*="position: fixed"][style*="top: 0"][style*="left: 0"],
*[style*="position: absolute"][style*="top: 0"][style*="left: 0"] {
  display: none !important;
}

/* ==========================================================================
   BROWSER COMPATIBILITY FALLBACKS
   ========================================================================== */

/* Safari fallbacks */
@supports (-webkit-backdrop-filter: blur(1px)) {
  .glass-card {
    -webkit-backdrop-filter: saturate(130%) blur(12px);
    backdrop-filter: saturate(130%) blur(12px);
  }
  .nav-glass {
    -webkit-backdrop-filter: saturate(130%) blur(14px);
    backdrop-filter: saturate(130%) blur(14px);
  }
  .about-title {
    -webkit-backdrop-filter: saturate(140%) blur(10px);
    backdrop-filter: saturate(140%) blur(10px);
  }
  .infographic-card {
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);
  }
  .play-button-modern {
    -webkit-backdrop-filter: saturate(160%) blur(6px);
    backdrop-filter: saturate(160%) blur(6px);
  }
}

/* Firefox fallbacks */
@-moz-document url-prefix() {
  .particles-canvas {
    opacity: 0.15; /* Firefox ma problemy z particles */
  }
  .gradient-orb {
    opacity: 0.3; /* Zmniejsz intensywność w Firefox */
  }
}

/* Internet Explorer fallbacks */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
  .particles-canvas,
  .liquid-bg,
  .gradient-orb {
    display: none !important;
  }
  .glass-card,
  .nav-glass,
  .about-title,
  .infographic-card {
    background: rgba(15,30,57,.9) !important;
  }
  .greeting-massive {
    animation: none !important;
  }
}

/* Wyłącz wszystkie animacje dla maksymalnej wydajności */
.portfolio-slider-container * {
  transition: none;
  animation: none;
}

/* Przywróć tylko niezbędne transitions */
.portfolio-track {
  transition: transform 0.05s ease-out;
}

.portfolio-item {
  transition: opacity 0.02s ease;
}

@supports not ((backdrop-filter:blur(10px)) or (-webkit-backdrop-filter:blur(10px))){
  .glass-card, .nav-glass, .contact-form, .section-header{ background: rgba(15,30,57,.85); }
}


/* ==========================================================================
   NAV (BURGER)
   ========================================================================== */

.nav{ display:flex; align-items:center; justify-content:space-between; height:64px; }
.nav__links--desktop{ display:flex; gap:24px; }
.nav__links--desktop a{ padding:8px 10px; border-radius:10px; }
.nav__mobile{ display:none; }
.nav__toggle{ list-style:none; cursor:pointer; display:flex; align-items:center; padding:12px; border-radius:12px; }
.nav__toggle::-webkit-details-marker{ display:none; }
.nav__burger{ position:relative; width:28px; height:22px; display:inline-block; }
.nav__burger::before,.nav__burger::after,.nav__burger>span{
  content:""; position:absolute; left:0; right:0; height:2px; background:#33f1db; border-radius:2px;
  transition: transform .25s ease, opacity .25s ease, top .25s ease;
}
.nav__burger::before{ top:0; } .nav__burger>span{ top:10px; } .nav__burger::after{ top:20px; }
.nav__mobile[open] .nav__burger::before{ top:10px; transform:rotate(45deg); }
.nav__mobile[open] .nav__burger::after{ top:10px; transform:rotate(-45deg); }
.nav__mobile[open] .nav__burger>span{ opacity:0; }

/* overlay + panel */
.nav__overlay{ position:fixed; inset:0; background:rgba(0,0,0,.45); opacity:0; pointer-events:none; transition:opacity .25s; }
.nav__mobile[open] > .nav__overlay{ opacity:1; pointer-events:auto; }

.nav__panel{
  position:fixed; top:0; right:0; height:100vh; width:78vw; max-width:360px;
  background:rgba(6,15,28,.96); padding:88px 24px 24px; display:flex; flex-direction:column; gap:12px;
  border-left:1px solid rgba(51,241,219,.2); transform:translateX(100%); transition:transform .25s ease;
}
.nav__mobile[open] .nav__panel{ transform:translateX(0); }
.nav__panel a{ padding:14px 12px; border-radius:12px; }
.nav__panel a:hover{ background:rgba(51,241,219,.10); }

.nav__close{
  position:absolute; top:16px; left:16px; width:44px; height:44px; border-radius:999px; border:0; cursor:pointer;
  display:grid; place-items:center; color:#e7fdff;
  background: radial-gradient(110% 120% at 30% 30%, rgba(0,255,235,.18), rgba(0,163,255,.10) 60%, rgba(255,255,255,.06)), rgba(10,25,45,.35);
  -webkit-backdrop-filter: blur(6px) saturate(160%); backdrop-filter: blur(6px) saturate(160%);
  box-shadow: inset 0 0 0 1px rgba(0,231,255,.35), 0 6px 18px rgba(0,0,0,.35), 0 0 0 6px rgba(0,231,255,.10);
  transition: transform .18s ease, box-shadow .18s ease, opacity .2s ease;
}
.nav__close:hover{ transform: scale(1.05); box-shadow: inset 0 0 0 1px rgba(0,255,255,.55), 0 10px 24px rgba(0,0,0,.4), 0 0 0 8px rgba(0,231,255,.16); }
.nav__close:focus-visible{ outline:none; box-shadow: inset 0 0 0 1px #fff, 0 0 0 3px #fff8, 0 0 0 8px rgba(0,231,255,.3); }
.nav__close i{ font-size:18px; text-shadow:0 0 14px rgba(0,231,255,.55); }

@supports selector(body:has(.nav__mobile[open])){ body:has(.nav__mobile[open]){ overflow:hidden; } }
body.is-menu-open{ overflow:hidden; } /* fallback */

.nav__mobile[data-closing] .nav__panel{ transform: translateX(100%); }
.nav__mobile[data-closing] > .nav__overlay{ opacity: 0; }
.nav__mobile[data-closing] .nav__panel,
.nav__mobile[data-closing] > .nav__overlay{ pointer-events: none; }

@media (min-width:1680px){
  .nav__mobile{ display:none; } .nav__links--desktop{ display:flex; }
}

@media (max-width:1679px){
  .nav__mobile{ display:block; } .nav__links--desktop{ display:none; }
}


/* ==========================================================================
   LANGUAGE SWITCH
   ========================================================================== */

.lang-switch{
  position:absolute; top:10px; right:10px; font-size:14px; font-weight:700; letter-spacing:.5px;
}
.lang-switch a{ color:#0ff; text-decoration:none; margin:0 4px; transition:color .3s; font-weight:700; }
.lang-switch a:hover{ color:#fff; }

@media (min-width:1680px){
  header .lang-switch{
    display:inline-flex; align-items:center; gap:.6ch; top:50%;
    right:clamp(16px,4vw,32px); transform:translateY(-50%);
    line-height:1; white-space:nowrap; font-size:var(--step-1);
  }
  .nav__panel .lang-switch{ display:none; }
}


@media (max-width:1679px){
  header .lang-switch{ display:none; }
  .nav__panel .lang-switch{
    display:flex; flex-direction:column; gap:6%; position:static; margin-top:4%;
    font-size:clamp(16px,2.8vw,18px); line-height:1.15;
  }
  .nav__panel .lang-switch a{
    display:inline-block; padding:8px 12px; border-radius:10px; border:1px solid rgba(0,231,255,.35);
    background:rgba(10,25,45,.35); -webkit-backdrop-filter: blur(6px) saturate(160%); backdrop-filter: blur(6px) saturate(160%);
    transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
  }
  .nav__panel .lang-switch a:hover{
    transform:translateY(-1px); border-color:rgba(0,255,255,.55);
    box-shadow:0 6px 18px rgba(0,0,0,.35), 0 0 0 6px rgba(0,231,255,.10); color:#fff;
  }
  
  /* Mobile header - wycentrowany logo */
  .logo-liquid{
    position: static !important;
    transform: none !important;
  }
  .nav__links--desktop{
    position: absolute;
    right: clamp(32px,8vw,64px);
  }
}
/* Desktop header - wycentrowany logo */
@media (min-width:1680px){
  .logo-liquid{
    position: absolute !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
  .nav__links--desktop{
    position: absolute;
    right: clamp(32px,8vw,64px);
  }
}

/* Reserve room for switch on narrower desktops */
@media (min-width:1081px) and (max-width:1679px){
  :root{ --lang-switch-w: 9ch; --lang-switch-gap: 4ch; }
  .nav__links--desktop{ margin-right: calc(var(--lang-switch-w) + var(--lang-switch-gap)); }
}
@media (min-width:1081px) and (max-width:1160px){
  :root{ --lang-switch-w: 10ch; --lang-switch-gap: 5.5ch; }
  .nav__links--desktop{ margin-right: calc(var(--lang-switch-w) + var(--lang-switch-gap)); }
}


/* ==========================================================================
   MEDIA QUERIES – HERO / ABOUT / NAV sizing
   ========================================================================== */

/* ≤600px */
@media (max-width:600px){
  .nav-container{ height:8vh; }
  .hero-cta{ flex-direction: row; align-items:flex-start; gap:12px; }
  .skills-infographics{ grid-template-columns:1fr; }
}

/* ≤640px */
@media (max-width:640px){
  .hero-section{ padding-bottom: clamp(20px, 7vw, 48px); }
  .hero-card, .video-container-hero{ border-radius: 18px; }
}

/* ≤1024px */
@media (max-width:1024px){
  .hero-section .hero-content{ grid-template-columns:1fr; gap: clamp(18px, 4vw, 28px); }
  .hero-card{ margin-top: clamp(10px, 2.5vw, 20px); width:100%; max-width:820px; }
}

/* ≤1679px – burger tweaks & hero column already handled above */
@media (max-width:1679px){
  .hero-section .hero-content{ display:flex; flex-direction:column; align-items:center; gap:clamp(16px,3vw,28px); }
  .hero-copy{ order:1; }
  .hero-card{ order:2; }
  .video-container-hero{ width: min(920px,96vw); }
  .hero-cta{ flex-direction:row; align-items:center; gap:clamp(12px,2vw,20px); }
}

/* 900–1080px */
@media (min-width:1081px) and (max-width:1200px){ .skills-infographics{ grid-template-columns:repeat(3,1fr); } }

/* ≤520px */
@media (max-width:520px){
  .nav-container{ height:56px; }
  .about-title{ padding:8px 12px; border-radius:12px; }
  .greeting-massive{ font-size: clamp(1.5rem, 5vw, 2rem); }
}

/* Mobile - ogólne poprawki */
@media (max-width:768px){
  .nav-container{ height:60px; padding: 0 1rem; }
  .logo-text{ font-size: clamp(16px, 4vw, 20px); }
  .hero-section{ padding: clamp(60px, 10vw, 100px) 0; }
  .hero-title{ 
    font-size: clamp(1.6rem, 6vw, 2.2rem); 
    line-height: 1.2; 
    margin-bottom: 16px;
  }
  .hero-subtitle{ 
    font-size: clamp(0.9rem, 3.5vw, 1.2rem); 
    margin-bottom: 24px;
    line-height: 1.4;
  }
  .hero-cta{ 
    flex-direction: column; 
    gap: 16px; 
    width: 100%;
    max-width: 280px;
    margin: 0 auto;
  }
  .btn-primary, .btn-secondary{ 
    padding: 14px 24px; 
    font-size: clamp(0.9rem, 4vw, 1.1rem);
    width: 100%;
    text-align: center;
  }
  .hero-card{
    width: 100%;
    max-width: min(350px, 85vw);
    margin-top: 30px;
  }
  .video-container-hero{
    border-radius: 16px;
  }
}

/* iPhone 13 mini i małe telefony (≤390px) */
@media (max-width:390px){
  .nav-container{ height:50px; padding: 0 0.75rem; }
  .logo-text{ font-size: clamp(14px, 4vw, 18px); }
  .hero-section{ padding: clamp(40px, 8vw, 80px) 0; }
  .hero-title{ font-size: clamp(1.4rem, 6vw, 2rem); line-height: 1.1; }
  .hero-subtitle{ font-size: clamp(0.8rem, 3vw, 1.1rem); }
  .hero-cta{ flex-direction: column; gap: 12px; }
  .btn-primary, .btn-secondary{ 
    padding: 12px 20px; 
    font-size: clamp(0.85rem, 4vw, 1rem);
    min-width: 200px;
  }
  .about-section{ padding: clamp(40px, 8vw, 80px) 0; }
  .holo{ 
    width: clamp(180px, 45vw, 250px); 
    height: clamp(180px, 45vw, 250px); 
    margin: 0 auto;
  }
  .greeting-massive{ font-size: clamp(1.3rem, 4.5vw, 1.8rem); }
  .about-text{ font-size: clamp(0.9rem, 4vw, 1.1rem); line-height: 1.5; }
  .contact-section{ padding: clamp(40px, 8vw, 80px) 0; }
  .contact-form{ padding: 1rem; }
  .contact-form input, .contact-form textarea{ 
    padding: 0.75rem 0.875rem; 
    font-size: 1rem; /* zapobiega zoom na iOS */
  }
  .infographic-card{ 
    min-height: 8.75rem; 
    padding: 1.25rem 1rem; 
    gap: 0.75rem;
  }
  .infographic-icon{ font-size: clamp(24px, 6vw, 32px); }
  .infographic-content h3{ font-size: 0.95rem; }
  .infographic-content p{ font-size: 0.85rem; }
  .portfolio-slider-container{ padding: 0 0.5rem; }
  .portfolio-arrow{ width: 2.5rem; height: 2.5rem; }
  .portfolio-arrow.left{ left: 0.25rem; }
  .portfolio-arrow.right{ right: 0.25rem; }
}

/* Firefox specific fixes - NAPRAWIONE dla mobile */
@-moz-document url-prefix() {
  .hero-section, .about-section, .contact-section {
    min-height: 100vh;
    min-height: 100dvh; /* fallback dla Firefox */
  }
  .portfolio-video {
    height: 70vh;
    height: 70dvh; /* fallback dla Firefox */
  }
  .nav-container {
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }
  
  /* Firefox Mobile - portfolio slider fixes */
  @media (max-width: 768px) {
    .portfolio-slider {
      /* Usuń aspect-ratio na Firefox Mobile */
      aspect-ratio: none !important;
      height: clamp(100px, 15vh, 140px) !important;
      width: min(80vw, 240px) !important;
    }
    
    .portfolio-slider:has(.portfolio-item.active.landscape) {
      aspect-ratio: none !important;
      height: clamp(120px, 18vh, 160px) !important;
      width: min(85vw, 280px) !important;
    }
    
    .portfolio-video {
      /* Fallback dla Firefox bez aspect-ratio */
      height: 100% !important;
      width: 100% !important;
    }
    
    .portfolio-item.landscape .portfolio-video {
      height: 100% !important;
      width: 100% !important;
    }
    
    /* Upewnij się że strzałki są widoczne */
    .portfolio-arrow {
      opacity: 1 !important;
      pointer-events: auto !important;
      z-index: 15 !important;
    }
  }
}

/* Safari/iOS specific fixes */
@supports (-webkit-touch-callout: none) {
  .hero-section, .about-section, .contact-section {
    min-height: -webkit-fill-available;
  }
  .portfolio-video {
    height: 70vh;
    height: calc(var(--vh, 1vh) * 70);
  }
  .contact-form input, .contact-form textarea {
    font-size: 16px; /* zapobiega zoom na iOS */
    transform: translateZ(0); /* hardware acceleration */
  }
}

/* ≤380px - bardzo małe ekrany */
@media (max-width:380px){
  .container{ padding: 0 12px; }
  .hero-title{ font-size: clamp(1.6rem, 7vw, 2.2rem); }
  .hero-subtitle{ font-size: clamp(1rem, 4.5vw, 1.3rem); }
  .hero-description{ font-size: clamp(0.85rem, 3.5vw, 1rem); }
  .btn-primary, .btn-secondary{ 
    padding: 10px 16px; 
    font-size: clamp(0.8rem, 3.5vw, 0.95rem);
    min-width: 180px;
  }
  .holo{ 
    width: clamp(160px, 40vw, 220px); 
    height: clamp(160px, 40vw, 220px); 
    margin: 0 auto;
  }
  .greeting-massive{ font-size: clamp(1.4rem, 5.5vw, 2rem); }
  .about-text{ font-size: clamp(0.85rem, 3.5vw, 1rem); }
  .infographic-card{ 
    min-height: 120px; 
    padding: 16px 12px; 
  }
  .infographic-icon{ font-size: clamp(20px, 5vw, 28px); }
  .portfolio-arrow{ width: 36px; height: 36px; }
}

/* ≥1280px – hero tuning */
@media (min-width:1280px){
  .about-section .container{ max-width: min(1280px,92vw); }
  .hero-section .container{ max-width: min(1380px,92vw); }
  .hero-section .hero-content{ grid-template-columns:1.25fr .75fr; column-gap: clamp(40px,5vw,72px); align-items:center; }
  .hero-title .title-line{ display:inline; }
  .hero-title .liquid-text{ white-space: nowrap; }
}

/* ≥1440px – hero layout offset */
@media (min-width:1440px){
  :root{ --hero-video-offset: clamp(140px,14vw,360px); --hero-video-w: min(820px,52vw); }
  .hero-section .hero-content{
    display:grid; grid-template-columns:1fr; grid-template-areas:"copy" "video";
    row-gap: clamp(8px,1.6vw,22px); align-items:start;
  }
  .hero-copy{ grid-area: copy; max-width: min(880px,56vw); justify-self: start; }
  .hero-card{ grid-area: video; justify-self: start; margin-top: clamp(-24px,-2vw,-10px); margin-left: var(--hero-video-offset); }
  .video-container-hero{ width: var(--hero-video-w); max-width:none; }
}

/* ≥1680px / ≥1920px – hero scales */
@media (min-width:1680px){
  :root{ --hero-video-offset: clamp(220px,18vw,480px); --hero-video-w: min(880px,48vw); }
}
@media (min-width:1920px){
  :root{ --hero-video-offset: clamp(260px,15vw,560px); --hero-video-w: min(920px,50vw); }
}

/* NAV/BURGER sizing tweaks */
@media (max-width:1679px){
  .nav{ height:10vh; padding-inline: clamp(3%,4vw,6%); }
  .nav__toggle{ padding:2.5%; border-radius:12px; }
  .nav__burger{ width:8vw; height:6vw; max-width:32px; max-height:24px; }
  .nav__burger::before{ top:0; } .nav__burger>span{ top:35%; } .nav__burger::after{ top:70%; }
}
@media (max-width:360px){
  .nav{ height:12vh; } .nav__burger{ width:9vw; height:7vw; }
  .nav__burger>span{ top:40%; } .nav__burger::after{ top:80%; }
}












/* === ABOUT: side-by-side dopiero na ≥1700px, niżej układ w kolumnie === */

/* 0) Bezpieczna szerokość avatara gdy sekcja jest w kolumnie */
.holo{
  /* avatar skaluje się ładnie od telefonów po laptopy */
  width: clamp(200px, 50vw, 480px);
  height: clamp(200px, 50vw, 480px);
  margin: 0 auto;
}

/* 1) Domyślnie i do 1699px – układ w kolumnie (avatar nad tekstem) */
.about-content-revolutionary{
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  row-gap: clamp(16px, 3vw, 28px);
}

/* 2) ≥1700px – dopiero wtedy włącz układ 2-kolumnowy z dużym avatarem z boku */
@media (min-width:1700px){
  .about-section .about-content-revolutionary{
    --text-w:   clamp(600px, 46vw, 820px);
    --avatar:   clamp(560px, calc(var(--text-w) * .96), 860px);
    --pair-gap: clamp(160px, 12vw, 380px);

    display: grid;
    grid-template-columns: var(--avatar) var(--text-w);
    column-gap: var(--pair-gap);
    align-items: center;
    justify-content: center;
    text-align: left; /* opcjonalnie – tekst wyrównany jak na desktopie */
  }

  /* na bardzo szerokich ekranach avatar korzysta z docelowej zmiennej */
  .holo{ width: var(--avatar); }
}















/* === HERO — układ poprawiony na wszystkich progach ==================== */
/* 1) 1081–1439: zawsze kolumna, wideo centralnie pod nagłówkami */
@media (min-width:1081px) and (max-width:1439px){
  .hero-section .hero-content{
    display:flex;
    flex-direction:column;
    align-items:center;
    row-gap:clamp(16px,3vw,28px);
  }
  .hero-copy{ order:1; }
  .hero-card{
    order:2;
    justify-self:center !important;
    margin: clamp(12px,2vw,24px) 0 0 !important;
  }
  .video-container-hero{
    width: min(980px, 72vw) !important;
    margin-inline:auto !important;
  }
}

/* 2) 1440–2199: nadal kolumna i idealne wyśrodkowanie (kasujemy offset z wcześniejszych reguł) */
@media (min-width:1440px) and (max-width:2199px){
  .hero-section .hero-content{
    display:flex;
    flex-direction:column;
    align-items:center;
    row-gap:clamp(14px,2.2vw,22px);
  }
  .hero-copy{ order:1; }
  .hero-card{
    order:2;
    justify-self:center !important;
    margin-left: 0 !important;        /* unieważnia var(--hero-video-offset) */
    margin-top: clamp(8px,1.6vw,16px) !important;
  }
  .video-container-hero{
    width: min(980px, 64vw) !important;
    margin-inline:auto !important;
  }
}

/* 3) ≥2200: dopiero teraz wideo obok tekstu */
@media (min-width:2199px){
  .hero-section .hero-content{
    display:grid;
    grid-template-columns: 1.25fr .75fr;
    column-gap: clamp(40px,5vw,72px);
    align-items:center;
    grid-template-areas: "copy video";
  }
  .hero-copy{ grid-area: copy; }
  .hero-card{
    grid-area: video;
    justify-self:start;
    margin: 0 !important;
  }
  .video-container-hero{
    width: min(920px, 48vw) !important;
  }
}












/* === HERO – docelowy układ === */

/* 1) 1081–2199 px: wideo POD tytułem i centralnie */
@media (min-width:1081px) and (max-width:2199px){
  .hero-section .container{
    max-width: min(1500px, 92vw);
    margin-inline: auto;
  }

  .hero-section .hero-content{
    /* wymuszenie jednej kolumny pod sobą */
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: clamp(16px, 3vw, 28px);
    /* kasujemy siatkę/offsety z wcześniejszych reguł */
    grid-template-columns: none !important;
    grid-template-areas: none !important;
  }

  .hero-copy{
    max-width: min(1000px, 72vw);
  }

  .hero-card{
    order: 2;
    margin: clamp(10px, 2vw, 20px) auto 0 !important;
  }

  .video-container-hero{
    width: min(1040px, 86vw) !important;
    margin-inline: auto !important;
    /* zerujemy wcześniejsze „odsunięcia” */
    margin-left: 0 !important;
  }
}

/* 2) ≥2200 px: para obok siebie (copy | video), wycentrowana jako całość */
@media (min-width:2200px){
  .hero-section .container{
    max-width: min(1800px, 92vw);
    margin-inline: auto;
  }

  .hero-section .hero-content{
    display: grid;
    grid-template-columns: 1.15fr .85fr;
    column-gap: clamp(56px, 6vw, 96px);
    align-items: center;
    justify-content: center; /* centrowanie pary */
    text-align: left;
  }

  .hero-copy{
    max-width: 52ch;
    justify-self: end;
  }

  .hero-card{
    order: 0;
    margin: 0 !important;
    justify-self: start;
  }

  .video-container-hero{
    width: min(980px, 46vw) !important;
    margin: 0 !important;
  }
}










/* 1) 1081–1699 px: wideo POD tytułem, centralnie */
@media (min-width:1081px) and (max-width:1699px){
  .hero-section .hero-content{
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: clamp(16px,3vw,28px);
    grid-template-columns: none !important;
    grid-template-areas: none !important;
  }
  .hero-card{ order:2; margin: clamp(10px,2vw,20px) auto 0 !important; }
  .video-container-hero{ width: min(1040px,86vw) !important; margin: 0 auto !important; }
}

/* 2) ≥1700 px: wspólne kolumny (lewa=avatar, prawa=tekst) dla HERO i ABOUT */
@media (min-width:1700px){
  /* współdzielone wymiary kolumn */
  :root{
    --layout-text:   clamp(600px, 46vw, 820px);
    --layout-ava:    clamp(560px, calc(var(--layout-text)*.96), 860px);
    --layout-gap:    clamp(160px, 12vw, 380px);
  }

  /* kontener o szerokości dokładnie = ava + gap + text */
  .hero-section .container,
  .about-section .container{
    max-width: calc(var(--layout-ava) + var(--layout-gap) + var(--layout-text));
    margin-inline: auto;
  }

  /* HERO = te same kolumny co ABOUT */
  .hero-section .hero-content{
    display: grid;
    grid-template-columns: var(--layout-ava) var(--layout-text);
    column-gap: var(--layout-gap);
    align-items: center;
    justify-content: center; /* para wyśrodkowana jako całość */
    grid-template-areas: none !important;
  }

  /* lewy blok (nagłówek/cta) siedzi w kolumnie „ava” */
  .hero-copy{ grid-column: 1; justify-self: start; text-align: left; }

  /* film = prawa kolumna (szerokość = karta tekstu) */
  .hero-card{
    grid-column: 2;
    justify-self: end;
    margin: 0 !important;         /* kasuje stare offsety */
  }
  .video-container-hero{
    width: 100% !important;       /* = var(--layout-text) */
    margin: 0 !important;
  }

  /* ABOUT na tych samych kolumnach (spójność krawędzi) */
  .about-section .about-content-revolutionary{
    display: grid;
    grid-template-columns: var(--layout-ava) var(--layout-text);
    column-gap: var(--layout-gap);
    align-items: center;
    justify-content: center;
  }
  .about-section .holo{
    width: var(--layout-ava); height: var(--layout-ava);
  }
  .about-section .about-description-pro{
    max-width: var(--layout-text); width: 100%;
  }
}



/* CTA wyśrodkowane, gdy hero jest centralnie (≤1699px) */
@media (max-width:1679px){
  .hero-cta{
    width: 100%;
    justify-content: center !important;
    margin-inline: auto; /* asekuracyjnie */
  }
}

/* Szerokie desktopy – wyrównanie do lewego tekstu (tak jak chciałeś ≥1700px) */
@media (min-width:1700px){
  .hero-cta{
    justify-content: flex-start !important;
    margin-inline: 0;
  }
}








/* Wyśrodkuj podtytuł "Filmy & Grafiki i AI..." (≤1699px) */
@media (max-width:1679px){
  .hero-subtitle{
    text-align: center !important;
    margin-inline: auto !important; /* blok też na środku */
  }
}

/* ≥1700px — wyrównanie jak na desktopie (do lewej) */
@media (min-width:1700px){
  .hero-subtitle{
    text-align: left !important;
    margin-inline: 0 !important;
  }
}





/* ≤1679px — pełne wyśrodkowanie hero copy */
@media (max-width:1679px){
  /* ułóż hero w kolumnie i centruj */
  .hero-section .hero-content{
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(20px, 4vw, 40px);
  }

  /* kontener z tekstem na środku */
  .hero-copy{
    max-width: min(880px, 92vw);
    margin-inline: auto !important;
    text-align: center !important;
    order: 1;
  }

  /* tytuł + podtytuł faktycznie na środku */
  .hero-title,
  .hero-subtitle{
    text-align: center !important;
    margin-inline: auto !important;
  }

  /* linia tytułu łamana jako osobny wiersz na mobile */
  .hero-title .title-line{ display:block; }

  /* przyciski */
  .hero-cta{ 
    justify-content: center !important; 
    flex-direction: column;
    gap: 12px;
    width: 100%;
    max-width: 300px;
  }

  /* wideo na dole */
  .hero-card{
    order: 2;
    width: 100%;
    max-width: min(400px, 90vw);
    margin-top: 20px;
  }
}






/* ABOUT: wyśrodkowanie tekstu w karcie opisu */
.about-description-pro{
  text-align: center !important;      /* środek dla całej karty */
}

.about-description-pro .apple-text,
.about-description-pro p{
  text-align: inherit !important;     /* dziedziczy 'center' z rodzica */
  margin-inline: auto;                /* równo po bokach */
  max-width: 72ch;                    /* opcjonalnie: krótsze linie = lepsza czytelność */
}








/* CONTACT — zwężamy WYŁĄCZNIE formularz, kafelki zostają jak są */
#contact .contact-form.glass-card{
  width: 100%;                 /* niech rośnie do max-width */
  max-width: 720px;            /* <<< ustaw docelową szerokość formularza */
  margin-inline: auto;         /* wyśrodkuj w wierszu */
  justify-self: center;        /* gdy rodzic jest gridem */
}

/* jeśli chcesz jeszcze węziej: np. 600px */
@media (min-width: 1081px){
  #contact .contact-form.glass-card{
    max-width: 600px;          /* zmień na to, co Ci pasuje */
  }
}

/* przy zwężeniu formularza lepiej ustawić 1 kolumnę pól */
#contact .contact-form .form-grid{
  grid-template-columns: 1fr;
}

/* na bardzo małych ekranach formularz może być na pełną szerokość */
@media (max-width: 600px){
  #contact .contact-form.glass-card{
    max-width: 92vw;
  }
}


/* ==========================================================================
   FORMULARZ - LOADING SPINNER I KOMUNIKATY
   ========================================================================== */

/* Loading spinner */
.loading-spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s ease-in-out infinite;
  margin-right: 8px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Form messages */
.form-message {
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}







/* Wyłącz podkreślenie pod tytułami w sekcjach PORTFOLIO i KONTAKT */
#portfolio .title-decoration,
#contact  .title-decoration{
  display: none;
}

/* Na wszelki wypadek — zero podkreślenia samego tytułu */
#portfolio .section-title,
#contact  .section-title,
#portfolio .section-header a,
#contact  .section-header a{
  text-decoration: none !important;
  border-bottom: 0 !important;
}








/* BOCZNE: jeszcze ciemniej + mocniejszy blur */
.portfolio-item:not(.active){
  opacity: .16;                           /* było .24 */
  transform: scale(.975);
}

.portfolio-item:not(.active) video{
  filter: blur(6px) brightness(.42) saturate(.55) contrast(.80);
  transform: scale(1.03);
  transition: filter .25s ease, transform .25s ease, opacity .25s ease;
}

/* mocniejsza winieta + ciemniejsze boki */
.portfolio-item:not(.active) .portfolio-video::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(ellipse at 50% 55%,
      rgba(0,0,0,0) 28%,
      rgba(0,0,0,.62) 60%,
      rgba(0,0,0,.82) 100%),
    linear-gradient(to right,
      rgba(0,0,0,.78) 0%,
      rgba(0,0,0,0) 20%,
      rgba(0,0,0,0) 80%,
      rgba(0,0,0,.78) 100%);
}

/* ŚRODEK: pełna ostrość */
.portfolio-item.active{ opacity: 1; transform: scale(1.06); }
.portfolio-item.active video{ filter: none; transform: none; }










/* --- PORTFOLIO: nawigacja kropkami --- */
.portfolio-navigation{
  display:flex;
  justify-content:center;
  align-items:center;
  gap: 10px;
  margin-top: clamp(10px, 2vw, 16px);
  position: absolute;
  bottom: -30px; /* Przenieś kropki poniżej slidera */
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
}

.nav-dot{
  --dot: 10px;
  width: var(--dot);
  height: var(--dot);
  border: 0;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 45%, var(--primary), transparent 65%);
  box-shadow:
    0 0 0 2px rgba(0,213,255,.25),
    0 0 8px rgba(0,213,255,.35);
  opacity: .55;
  transform: translateZ(0) scale(.92);
  transition: transform .18s ease, opacity .18s ease, box-shadow .18s ease, background .18s ease;
  cursor: pointer;
}

.nav-dot:hover{
  opacity: .85;
  transform: scale(1.05);
  box-shadow:
    0 0 0 2px rgba(0,255,255,.45),
    0 0 14px rgba(0,255,255,.60);
}

.nav-dot.active{
  opacity: 1;
  transform: scale(1.25);
  background: radial-gradient(circle at 50% 45%, var(--primary-2, #1ee3ff), rgba(0,213,255,.35) 70%);
  box-shadow:
    0 0 0 2px rgba(0,255,255,.55),
    0 0 18px rgba(0,255,255,.75),
    inset 0 0 20px rgba(0,255,255,.24);
}

.nav-dot:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px #ffffff66,
    0 0 0 8px rgba(0,231,255,.35);
}

/* --- PORTFOLIO: schowaj podpisy/nazwy filmów pod kartami --- */
/* Jeżeli nazwa jest w .video-title – to wystarczy ta linia: */
.portfolio-slider-container .video-title{ display:none; }

/* Dodatkowe bezpieczne selektory na wypadek innej klasy/znacznika: */
.portfolio-slider-container .portfolio-item figcaption,
.portfolio-slider-container .portfolio-item .caption,
.portfolio-slider-container .portfolio-item .item-title,
.portfolio-slider-container .portfolio-item h3.video-title,
.portfolio-slider-container .portfolio-item h4.video-title{
  display:none;
}

/* ==========================================================================
   YOUTUBE IFRAME OPTIMIZATION
   ========================================================================== */

/* YouTube container - pełnoekranowy responsywny */
.youtube-container {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 20px;
  overflow: hidden;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* YouTube container w portfolio-video - pełnoekranowy */
.portfolio-video .youtube-container {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 20px;
  overflow: hidden;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* YouTube iframe - pełnoekranowy responsywny z priorytetem */
.youtube-container iframe {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border: 0 !important;
  border-radius: inherit !important;
  opacity: 1 !important;
  transition: opacity 0.3s ease;
  z-index: 1 !important;
  display: block !important;
}

/* Play buttony usunięte - YouTube używa własnego UI */

/* Pełnoekranowy responsywny tryb dla wszystkich filmów */
.portfolio-video {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 20px;
  overflow: hidden;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Selektywna klasa .aspect-16-9 dla wybranych filmów */
.portfolio-item.aspect-16-9 .youtube-container {
  aspect-ratio: 16/9;
  width: 100%;
  height: 100%;
}

/* Landscape videos - zachowana kompatybilność */
.portfolio-item.landscape .youtube-container {
  aspect-ratio: 16/9;
}

/* Responsywność dla różnych rozmiarów ekranu */
@media (max-width: 768px) {
  .portfolio-video {
    height: 80vh;
    min-height: 400px;
  }
  
  .portfolio-item.aspect-16-9 .youtube-container {
    height: 60vh;
    min-height: 300px;
  }
}

@media (min-width: 1200px) {
  .portfolio-video {
    height: 90vh;
    max-height: 800px;
  }
  
  .portfolio-item.aspect-16-9 .youtube-container {
    height: 70vh;
    max-height: 600px;
  }
}

/* YouTube thumbnail placeholder */
.youtube-container::after {
  content: "";
  position: absolute;
  inset: 0;
  background: 
    linear-gradient(135deg, rgba(0,213,255,.1), rgba(0,255,200,.05)),
    radial-gradient(circle at 30% 30%, rgba(0,213,255,.15), transparent 60%);
  border-radius: inherit;
  z-index: 0;
  pointer-events: none;
}











/* 1) Daj miejsce na dole, żeby glow kropek nie był ucinany */
.portfolio-slider-container{
  --dots-clearance: 60px;        /* więcej miejsca pod kropki + halo */
  padding-bottom: var(--dots-clearance);
  position: relative;
}

/* 3) Usuń „podstawkę” pod kropkami – bez panelu/paska */
.portfolio-navigation{
  background: none;
  border: 0;
  box-shadow: none;
  padding: 0;
}

/* 4) (Masz już) – kontrolki nieprzycinane.
   Jeśli gdzieś brakuje, zostaw: */
.portfolio-slider,
.portfolio-track,
.portfolio-item,
.portfolio-video{ overflow: visible; }









/* --- SLIDER: rozmiar okna sterowany proporcją --- */
.portfolio-slider {
  display: flex; align-items: center; gap: clamp(16px, 2vw, 32px);
  width: min(1100px, 92vw);
  margin-inline: auto;

  /* domyślnie pion 9:16 */
  aspect-ratio: 9 / 16;
  height: auto;
  max-height: clamp(420px, 58vh, 780px);
}

/* okno 16:9 gdy aktywny slajd ma landscape */
.portfolio-slider:has(.portfolio-item.active.landscape) {
  aspect-ratio: 16 / 9;
}

/* (fallback dla bardzo starych przeglądarek) */
@supports not (aspect-ratio: 1 / 1) {
  .portfolio-slider { position: relative; }
  .portfolio-slider:has(.portfolio-item.active.landscape)::before {
    content: ""; display: block; padding-top: calc(9 / 16 * 100%); /* 16:9 */
  }
}

/* --- KARTY: stała szerokość dla wszystkich --- */
.portfolio-item {
  --card-w: clamp(220px, 22vw, 340px);
  flex: 0 0 var(--card-w);
  height: 100%;
}

/* obudowa wideo */
.portfolio-video {
  position: relative;
  overflow: hidden;
  border-radius: 20px;
  /* domyślna proporcja karty (pion) */
  aspect-ratio: 9 / 16;
}

/* landscape zmienia TYLKO proporcję ramki, nie układ */
.portfolio-item.landscape .portfolio-video { aspect-ratio: 16 / 9; }

/* media w środku */
.portfolio-video > video {
  width: 100%; height: 100%;
  object-fit: cover; display: block;
  transform: none; transition: transform .35s cubic-bezier(.22,.61,.36,1);
  will-change: transform;
}

/* „powiększ” wizualnie tylko aktywne landscape — bez zmiany layoutu */
.portfolio-item.landscape.active .portfolio-video > video {
  transform: scale(1.22);        /* dopasuj 1.18–1.28 wg gustu */
  transform-origin: center;
}












/* --- ROZMIAR OKNA SLIDERA --- */
.portfolio-slider-container{
  /* globalne limity – możesz śmiało podkręcić */
  --slider-w: min(1500px, 94vw);         /* szerokość okna dla 9:16 */
  --slider-h: clamp(480px, 64vh, 880px); /* maks. wysokość dla 9:16 */
}

.portfolio-slider{
  display:flex; align-items:center; gap:clamp(16px,2vw,32px);
  width: var(--slider-w);
  margin-inline:auto;
  aspect-ratio: 9 / 16;        /* domyślnie pion */
  height:auto;
  max-height: var(--slider-h);
}

/* Gdy aktywny slajd jest landscape → większe okno + 16:9 */
.portfolio-slider:has(.portfolio-item.active.landscape){
  --slider-w: min(1700px, 96vw);         /* szersze okno dla 16:9 */
  --slider-h: clamp(420px, 72vh, 960px); /* limit wysokości dla 16:9 */
  aspect-ratio: 16 / 9;
}

/* Mobile portfolio slider - NAPRAWIONE */
@media (max-width:768px){
  .portfolio-slider-container{
    --slider-w: min(80vw, 240px); /* Jeszcze mniejsza szerokość */
    --slider-h: clamp(100px, 15vh, 140px); /* Jeszcze mniejsza wysokość */
    padding: 0 8px;
    overflow: visible; /* Pozwól na touch events */
  }
  
  .portfolio-slider{
    gap: 8px; /* Mniejszy gap */
    /* Usuń aspect-ratio na mobile - powoduje problemy w Firefox */
    height: var(--slider-h);
    width: var(--slider-w);
    overflow: visible; /* Wyłącz CSS scroll na mobile */
    scroll-behavior: auto; /* Wyłącz smooth scroll */
    scroll-snap-type: none; /* Wyłącz snap */
    -webkit-overflow-scrolling: auto; /* Wyłącz iOS smooth scroll */
    touch-action: manipulation; /* Pozwól na touch ale nie scroll */
  }
  
  .portfolio-slider:has(.portfolio-item.active.landscape){
    --slider-w: min(90vw, 300px);
    --slider-h: clamp(140px, 20vh, 180px);
    /* Usuń aspect-ratio */
  }
  
  .portfolio-item{
    --card-w: clamp(100px, 30vw, 160px); /* Jeszcze mniejsze karty */
    flex: 0 0 var(--card-w);
    height: 100%;
  }
  
  .portfolio-arrow{
    width: 40px;
    height: 40px;
    z-index: 10; /* Wyżej niż inne elementy */
    pointer-events: auto; /* Zawsze aktywne na mobile */
    opacity: 1 !important; /* Zawsze widoczne na mobile */
  }
  
  .portfolio-arrow.left{ left: 4px; }
  .portfolio-arrow.right{ right: 4px; }
  
  .portfolio-navigation{
    bottom: -25px; /* Kropki poniżej slidera na mobile */
    gap: 6px;
  }
  
  .nav-dot{
    --dot: 7px;
  }
}

/* --- KARTY: stała szerokość, żeby nie rozjeżdżać centrowania --- */
.portfolio-item{
  --card-w: clamp(260px, 26vw, 420px); /* trochę większe kafelki */
  flex: 0 0 var(--card-w);
  height: 100%;
}
.portfolio-video{ aspect-ratio: 9 / 16; overflow:hidden; border-radius:20px; }
.portfolio-item.landscape .portfolio-video{ aspect-ratio: 16 / 9; }

/* Media w środku */
.portfolio-video > video{
  width:100%; height:100%; object-fit:cover; display:block;
  transform:translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
}

/* „Powiększ" tylko aktywny slajd wizualnie (bez zmiany layoutu) */
.portfolio-item.active .portfolio-video > video{ transform: scale(1.05) translateZ(0); }
.portfolio-item.landscape.active .portfolio-video > video{ transform: scale(1.1) translateZ(0); }








/* 1) wyłącz stary cień na .portfolio-video (żeby nie było podwójnego) */
.portfolio-video{ box-shadow: none; position: relative; }

/* 2) cień tylko dla aktywnej karty (portret 9:16) */
.portfolio-item.active .portfolio-video::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  pointer-events:none;
  box-shadow: 
    0 0 15px rgba(0,213,255,.4),
    0 0 30px rgba(0,213,255,.2);
  opacity:1;
}

/* 3) w landscape cień ma ZNIKNĄĆ */
.portfolio-item.landscape .portfolio-video::after{ content:none; }

/* (awaryjnie) wyłącz stare pseudo-ramki na aktywnej karcie, jeżeli gdzieś były */
.portfolio-item.active::before,
.portfolio-item.active::after{ content:none; }






/* 1) wyłącz stały box-shadow, będziemy rysować pseudo-elementem */
.portfolio-video{ box-shadow: none; position: relative; }

/* 2) uniwersalny cień dla aktywnej karty – działa dla 9:16 i 16:9 */
.portfolio-item.active .portfolio-video::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;          /* ten sam zaokrąglony kształt co wideo */
  pointer-events:none;
  box-shadow:
    0 0 24px rgba(0,213,255,.35),
    0 0 60px rgba(0,213,255,.18),
    inset 0 0 20px rgba(0,213,255,.12);
  opacity:1; transition:opacity .25s ease;
}

/* (opcjonalnie) wyłącz ewentualne stare pseudo-glowy na karcie */
.portfolio-item.active::before,
.portfolio-item.active::after{ content:none; }

/* Ukryj wszystkie potencjalne ciemne elementy w portfolio */
.portfolio-slider-container * {
  background: transparent !important;
}

.portfolio-slider-container .portfolio-video {
  background: #000 !important;
}

